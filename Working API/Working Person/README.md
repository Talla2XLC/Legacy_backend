## Работа с Персоной

### Авторизация

Для выполнение этого запроса нужно авторизация пользователя
в загаловке запроса должен придти токен без этого дальнейшие запросы не будут выполнены.

| Название загаловка |Значение|   Обязательное поле |
| ------------ | ------------ |------------ |
| Authorization|  (токен который был получен во время авторизации пользователя)shd8ysa67t2w65e3yhfdws|Да|

### Запись нового персона

Для записи персона нужно отправить методом POST по адресу  `/db/setPerson` в виде json данных

| Параметр  |  Тип  | Обязательное поле |
| ------------ | ------------ |------------ |
| first_name| string(1500)  | Нет |
| patronymic  |  string(30)  | Нет |
| last_name |  string(50)  | Нет |
| email |  string  | Нет |
| city |  string  | Нет |
| marital_status |  string  | Нет |
| phone |  int  | Нет |
| role_in_family |  string  | Нет |
| ico_url|  string  | Нет |
| gender|  string  | Нет |
	

В ответ приходит JSON с параметрами:

| Параметр  |  Тип  | Описание|
| ------------ | ------------ |------------ |
| error | string | Выводит текст ошибки(если есть)  |
| result  |  boolean  | Выдает результат выполнение  |

Пример выглядит так:
```json
{"error":"","result":true} //если данные удачно записались

{"error":"Описание ошибки","result":false} //если данные не удачно записались
```
### Получение данных

Для получение данных  альбома нужно отправить методом POST по адресу `/db/getHistory` без параметров

В ответ получаете JSON если есть данные

| Параметр  |  Тип  | Описание|
| ------------ | ------------ |------------ |
|content| Object | Все альбомы и необходимые данные в виде обекта  |
| result  |  boolean  | Выдает результат выполнение  |

Пример ответа:

```
{content: Object {1: Object { id: 1, album_name: "Имя альбома", description: "Описание альбома" ,... }, 2: { ..}}
 result: true}
```

### Обнавление Персоны :-)

Для обновление отпровляете POST запрос с  json данноми похожее как и при созданиии на адрес `/db/updatePerson`.

Данные отпровлять те же что при созданиии.

| Параметр  |  Тип  | Обязательное поле |
| ------------ | ------------ |------------ |
| first_name| string(1500)  | Нет |
| patronymic  |  string(30)  | Нет |
| last_name |  string(50)  | Нет |
| email |  string  | Нет |
| city |  string  | Нет |
| marital_status |  string  | Нет |
| phone |  int  | Нет |
| role_in_family |  string  | Нет |
| ico_url|  string  | Нет |
| gender|  string  | Нет |



Ответ получаем в формат JSON

| Параметр  |  Тип  | Описание|
| ------------ | ------------ |------------ |
| error | string | Выводит текст ошибки  |
| result  |  boolean  | Выдает результат выполнение  |
Пример json ответа
```json
{"error":"","result":true}
```

### Удаление персоны

`ВНИМАНИЕ!` Это тестовая функция и она будет изменен.

Для удаление выполните POST запрос URL: `/db/deletePerson`

Параметры которые нужно отправить

| Параметр  |  Тип  | Обязательное поле |
| ------------ | ------------ |------------ |
| id_person| int  | да |

Ответ получути в формате JSON

| Параметр  |  Тип  | Описание|
| ------------ | ------------ |------------ |
| error | string | Выводит текст ошибки  |
| result  |  boolean  | Выдает результат выполнение  |
Пример json ответа
```json
{"error":"","result":true}
```